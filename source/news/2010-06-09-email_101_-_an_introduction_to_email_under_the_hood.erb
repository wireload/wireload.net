---
title: Email 101 - An introduction to email under the hood
authors: Viktor Petersson
wordpress_id: 156
wordpress_url: http://wireload.net/2010/06/email-101-an-introduction-to-email-under-the-hood/
date: 2010-06-09 16:05:19
tags: education, imap, mapi, pop3, smtp, the-email-school
---
Many of the articles we post here assume that you are familiar with the email lingo and components. But what if you're not? Where should you start?<br/>We've put together this crash course for you. In this article I will try to focus on the user facing aspect, and not dive too deep into technical details. I will try to simplify things as much as possible. I've broken this article into two sections: 'Sending Email' and 'Retrieving Email.' Let's start with the latter.<br/><!--more--><br/><h2>Retrieving Email</h2><br/>I've carefully selected the word 'retrieving' rather than 'receiving.' What I will be talking about in this section has nothing to do with receiving email. Instead, this is about how to retrieve, or fetch, email from your email service provider. The three most common ways to retrieve email are POP3, IMAP and MAPI. Let's call them The Good, the Bad and the Ugly.<br/>Please note that none of these components are used for sending email<sup><a href="#1">1</a></sup>.<br/><h4>The Good - IMAP</h4><br/>IMAP is starting to become the standard for retrieving email. It is an open standard, which allows anyone to write both email servers and email clients. Perhaps the best feature in IMAP is that it stores all the emails on the remote server. This enables you to use multiple clients (i.e. webmail, smartphone, computer, etc) and be in sync. If you mark a message as read on your computer, it will also be marked as read on your smartphone.<br/>The flip-side of this is that you are limited to the storage quota set by your email provider. Serious providers offer quite a bit of storage, such as Gmail with ~7GB of free storage, so this is usually not a big problem.<br/>One of the biggest myths when it comes to IMAP is that it is difficult to use. I really don't get it. It's not harder to set up than anything else. The only thing to keep in mind is that if you delete a message on your smartphone, you delete it on the server and it will be gone from your computer at home too.<br/><h4>The Bad - POP3</h4><br/>In the days when internet service providers (ISP) also were people's primary email provider, POP3 was the standard. The reason is simple -- it's cheap. What many people do not understand when it comes to POP3 is that the messages are only temporarily stored on the server<sup><a href="#2">2</a></sup>. Once your email client retrieves the emails, they are wiped from the server. Moreover, if you have multiple devices connected to the same account using POP3, you are asking for trouble. You might accidentally download an important message onto your smartphone. It's gone from the server. How are you going to transfer that message back to your computer? I suppose you could forward it, but it's hardly convenient.<br/>Another common misconception when it comes to POP3 is about folders. While there are 'folders' in POP3, they do not work as you would imagine them to. Folders in POP3 are strictly server-side. For the reason outlined above, you cannot 'create' a folder and move messages to it as you can in IMAP. No, a folder in POP3 is just another source to retrieve messages from. While it is not very common, your email service provider could have multiple folders to which different messages are delivered (e.g. based on server-side filters).<br/>I opened the section with saying that POP3 is cheaper for the providers. Since the messages are not permanently stored on the server as they are with IMAP, the email service provider won't have to invest in expensive storage arrays. The end user bears the full cost of long term email storage.<br/>It is also worth mentioning that POP3 is an open standard, just like IMAP.<br/><h4>The Ugly - MAPI</h4><br/>MAPI is Microsoft's proprietary email storage system. If proprietary email system didn't already turn you off, let me elaborate. Unlike POP3 and IMAP, MAPI is not an open standard. Hence, are limited to use Microsoft's email clients (Outlook) and server (Exchange).<br/>To be fair, MAPI is a much more complete solution. It is similar to IMAP in many ways, as it stores the messages on the server. However, unlike IMAP it also supports storage of contacts and calendar information.<br/>The problem with MAPI is that it is completely closed. For instance, you cannot use the email client of your choice (assuming it is not Outlook). If you want to move your messages from an email provider that only supports MAPI, you would need to use Outlook to transfer the messages<sup><a href="#3">3</a></sup>.<br/><h2>Sending Email</h2><br/>In this 101 class, there are only two components in "Sending Email." If you don't have your own domain, you can also ignore the "MX-record"-section.<br/><h4>SMTP</h4><br/>SMTP is the key component when it comes to sending email. No matter if you use POP3, IMAP or MAPI to retrieve your email, SMTP is what you will be using for sending email<sup><a href="#4">4</a></sup>. It's the open protocol that all email on the internet are sent trough. From an end-user point-of-view, SMTP is pretty simple. You configure your email client to use this server to send emails.<br/>The most common problem people have with SMTP is probably related to ISPs blocking external SMTP servers. In order to prevent users on their network from using their local computers to send spam, some ISPs decided to block all connections to/from SMTP server with the exception of their own SMTP server. It was probably a very efficient measure, but the down-side is that if you are not using the ISPs own email service to send email, you are unable to send email. While I've simplified this issue vastly and left many details out, there is a work-around to this issue that often works: use a an encrypted connection to the SMTP server (port 465 or 587).<br/><h4>MX-record</h4><br/>It is a bit difficult to explain MX-records in layman terms, but I'll do my best.<br/>An MX-record is a <a href="http://en.wikipedia.org/wiki/Domain_Name_System">DNS</a>-entry that tells the sending SMTP server where to deliver the message. It's probably easiest to explain this with an example. User A (userA@domainA.com) is sending an email to User B (userB@domainB.com).<br/><ul><br/>	<li>User A composes and sends a message to User B (UserB@domainB.com)</li><br/>	<li>DomainA.com's SMTP server reaches out and asks the DNS server for DomainB.com for the MX-record for DomainB.com</li><br/>	<li>The DNS for DomainB.com answers with something like smtp.DomainB.com (it could be anything really)</li><br/>	<li>DomainA.com's SMTP server initiates a connection to smtp.DomainB.com and delivers the message to UserB@DomainB.com</li><br/></ul><br/>While there is a whole lot more that can be added to the mix (such as SPF etc), this is a very simplified example on how MX-records and SMTP interoperate.<br/><br/>Want to learn more about email and email systems? Learn more in <a href="http://wireload.net/category/the-email-school/">The Email School</a>.<br/><small><br/><a name="1"><sup>1</sup></a> It is possible with certain email servers and configurations to send email using IMAP, but it is very rare and few email clients even support it.<br/><a name="2"><sup>2</sup></a> It is possible to use the option "leave messages on server," but it is highly discouraged as you'll end up with a huge mess.<br/><a name="3"><sup>3</sup></a> Many service providers who support MAPI also support IMAP.<br/><a name="4"><sup>4</sup></a> If you use MAPI/Exchange/Outlook, you might not see SMTP in your settings, but it is what the server is sending messages with.<br/></small>