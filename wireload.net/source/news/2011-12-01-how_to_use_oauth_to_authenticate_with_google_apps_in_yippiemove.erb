---
title: How to use OAuth to authenticate with Google Apps in YippieMove
author: Viktor Petersson
wordpress_id: 917
wordpress_url: http://wireload.net/2011/12/how-to-use-oauth-to-authenticate-with-google-apps-in-yippiemove/
date: 2011-12-01 11:25:59
tags: google-apps, imap, tips, yippiemove
---
<img src="http://wireload.net/wp-content/uploads/2011/11/apps_logo_3D_online_medium_transp.png" alt="" title="apps_logo_3D_online_medium_transp" width="202" height="44" class="alignright size-full wp-image-930" />Just <a href="http://wireload.net/2011/11/how-to-migrate-to-or-from-dovecot-without-reseting-the-users-passwords/">like Dovecot</a>, Google Apps also support logging in to users' email account without resetting the passwords. Unfortunately, this feature is not available for Google Apps Standard-users (i.e. free), but is restricted to Google Apps for Business-users (and Education). <br/>The way Google resolved this was to add support for OAuth authentication to their IMAP server. Hence, to use this feature, you will need an OAuth key.<br/><!--more--><br/><h3>Generate an OAuth key</h3><br/>Start by logging into the administrative dashboard of your domain (https://www.google.com/a/yourdomain.com). Go to the tab named ‘Advanced tools.’<br/>Next click on the link named ‘<strong>Manage OAuth domain key</strong>.’<br/>On this screen you need to make sure that you select the following check-boxes:<br/><ul><br/>	<li>Enable this consumer key</li><br/>	<li>Allow access to all APIs</li><br/></ul><br/><p><span class="shadowed"><img src="http://wireload.net/wp-content/uploads/2011/11/generate_oauth-580x252.png" alt="Getting the OAuth-keys" /><span class="sh tl"></span><span class="sh tr"></span><span class="sh bl"></span><span class="sh br"></span></span></p><br/>Press ‘<strong>save changes.</strong>’<br/>You now need to provide us with the following pieces of information:<br/><ul><br/>	<li>OAuth consumer key</li><br/>	<li>OAuth consumer secret</li><br/></ul><br/>Please note that if you are moving between two Google Apps-domains, we need this information from both domains.<br/><h3>Using your OAuth key(s) in YippieMove</h3><br/>Once you got your OAuth key(s) ready, you can start using them with YippieMove. Fist take a look at our <a href="http://www.yippiemove.com/help/batch_migration.html">Batch Migration help-page</a>. Once you understand the workflow, downloading this <a href="http://wireload.net/wp-content/uploads/2011/11/google_apps_oauth.csv">custom CSV-file</a> (a modified version of the one available on the regular batch page). <br/>Open up the CSV-file in a spreadsheet program like Apple Numbers, Open Office or Google Docs. Everything but Microsoft Excel should work fine, as Excel is known to break the CSV-files. In the file you'll find a number of fields. I've outlined the field, along with example values if one were to move from imap.example.com to Google Apps with OAuth-authentication: <br/><ul><br/><li>src_username</li><br/>The username of the source account.<br/><li>src_password</li><br/>The password for the source account.<br/><li>src_xoauth_token_or_consumer_key</li><br/>Leave blank.<br/><li>src_xoauth_requestor_id</li><br/>Leave blank.<br/><li>src_host</li><br/>imap.example.com<br/><li>src_port</li><br/>993<br/><li>src_ssl</li><br/>True<br/><li>dst_username</li><br/>The username for the source account.<br/><li>dst_password</li><br/>The consumer secret.<br/><li>dst_xoauth_token_or_consumer_key</li><br/>The consumer key.<br/><li>dst_xoauth_requestor_id</li><br/>The username (same as dst_username).  <br/><li>dst_host</li><br/>imap.gmail.com<br/><li>dst_port</li><br/>993<br/><li>dst_ssl</li><br/>True<br/><li>prefix</li><br/>If you want to add a prefix to the folders. Eg. Enter 'foo' if you want the folder 'bar' to be named 'foo/bar' on the destination. <br/><li>owner</li><br/>Deprecated. Leave blank.<br/><li>exclude</li><br/>List folders you wish to ignore from the migration.<br/></ul><br/>While that might seem overwhelming at first, it isn't that complicated. Also, if you are moving many accounts, it will surely save you a lot of time both while preparing for the migration and during the actual migration. <br/>